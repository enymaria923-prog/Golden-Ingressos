// lib/asaas-config.js

export function getAsaasConfig() {
  const apiKey = process.env.ASAAS_API_KEY;
  const env = process.env.ASAAS_ENV || 'production';
  const walletId = process.env.ASAAS_WALLET_ID;
  
  if (!apiKey) {
    throw new Error('ASAAS_API_KEY não configurada no .env.local');
  }
  
  if (!apiKey.startsWith('$aact_')) {
    throw new Error('ASAAS_API_KEY inválida. Deve começar com $aact_');
  }
  
  const baseUrl = env === 'production'
    ? 'https://api.asaas.com/v3'
    : 'https://sandbox.asaas.com/api/v3';
  
  return {
    apiKey,
    env,
    walletId,
    baseUrl
  };
}
